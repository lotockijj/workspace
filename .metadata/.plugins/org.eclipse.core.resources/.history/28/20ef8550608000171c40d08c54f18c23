package decorator;

import java.math.BigDecimal;
import java.math.RoundingMode;
import java.sql.Date;
import java.time.LocalDate;
import java.time.Period;

public abstract class Price {
	private BigDecimal cost;
	
	public Price(BigDecimal cost){
		this.cost = cost;
	}
	
	public Price(){
	}
	
	public abstract BigDecimal getPrice();
	
	public void setPrice(Date startDate) {
		LocalDate start = startDate.toLocalDate();
		System.out.println("start: " + start);
		LocalDate today = LocalDate.now();
		System.out.println("today: " + today);
		System.out.println("Period: " + Period.between(start, today).getYears());
		if(Period.between(start, today).getYears() >= 10){
			cost = cost.multiply(new BigDecimal(0.95));
			cost = cost.setScale(2, RoundingMode.FLOOR);
		}
	}

	public String getDescription() {
		return "";
	}
	
}
