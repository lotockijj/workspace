package designpatterns.twentyone;
//In some cases, it may be required that a given
//purchase request be approved by all individuals with the approval limit
//less than the purchase request amount until it is approved by an individual
//with a higher approval limit than the PR amount.

public class PRManager {
	private BranchManager branchManager;
	private RegionalDirector regionalDirector;
	private VicePresident vicePresident;
	private PresidentCOO presidentCOO;
	
	public static void main(String[] args) {
		PRManager manager = new PRManager();
		manager.createAuthorizationFlow();
		
		PurchaseRequest request = new PurchaseRequest(1, "Office supplies", 150000);
		System.out.println(manager.branchManager.authorize(request, null));
	}

	private void createAuthorizationFlow() {
		branchManager = new BranchManager("Branch manager Roman");
		regionalDirector = new RegionalDirector("Regional director Vasya");
		vicePresident = new VicePresident("Vice president Kolya");
		presidentCOO = new PresidentCOO("President COO Vitalic");
		
		branchManager.setNextHandler(regionalDirector);
		regionalDirector.setNextHandler(vicePresident);
		vicePresident.setNextHandler(presidentCOO);
	}
}
