package designpatterns.ten;

import java.io.IOException;
import java.util.Properties;

import org.junit.Assert;

public class LoggerFactory {
	
	public Logger getLogger(){
		Properties p = new Properties();
		try {
			p.load(ClassLoader.getSystemResourceAsStream("Logger.properties"));
			String fileLoggingValue = p.getProperty("fileLoggingValue");
			if(fileLoggingValue.equalsIgnoreCase("db")){
				return new DBLogger();
			}
			if(fileLoggingValue.equalsIgnoreCase("console")){
				return new FileLogger();
			}
		} catch (IOException e) {
			e.printStackTrace();
		}
		return new ConsoleLogger();
	}
	
	public static void main(String[] args) {
		LoggerFactory loggerFactory = new LoggerFactory();
		Logger logger = loggerFactory.getLogger();
		logger.log("Hello Roman :)");
		Assert.assertNotNull(logger);
	}
}
